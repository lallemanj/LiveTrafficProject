@using System.Text
@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer
@{
    ViewData["Title"] = @Localizer["Beginscherm"];
}


<script src="~/lib/jquery-ajax-unobtrusive/jquery.unobtrusive-ajax.min.js"></script>
<script type="text/javascript" 
            src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js">
    </script>
<body>
    <h2>@Localizer["Beginscherm"]</h2>
    <button onclick="fetch();">@Localizer["Klik hier"]</button>
    <ul class="msg">
       
    </ul>
    <input type="button" id="ajaxBtn" value="@Localizer["Verkrijg url"]" />
    <img src="https://api.tomtom.com/traffic/map/4/tile/incidents/s0/12/1207/1539.png?t=-1&tileSize=512&key=hIQ7sERCrsAIdaBcD4I2inoY9sFjc7ms" id="i">
    <input type="button" id="ajaxBtn2" value="@Localizer["Verkrijg url"]" />
    <img src="https://api.tomtom.com/traffic/map/4/tile/flow/relative0/12/1207/1539.png?tileSize=512&key=hIQ7sERCrsAIdaBcD4I2inoY9sFjc7ms" id="a">

<script type="text/javascript">
     $(document).ready(function () {
			
		 $('#ajaxBtn').click(function(){
			var img = document.getElementById('i');


            alert(img.getAttribute('src'));
            alert(img.src);  
	
		});
    });
     $(document).ready(function () {
			
		 $('#ajaxBtn2').click(function(){
			var img = document.getElementById('a');


            alert(img.getAttribute('src'));
            alert(img.src);  
	
		});
    });
 </script>
</body>
<script>
    function fetch(){
        $.ajax({
            url:"https://api.tomtom.com/traffic/services/5/incidentDetails?bbox=4.8854592519716675%2C52.36934334773164%2C4.897883244144765%2C52.37496348620152&fields=%7Bincidents%7Btype%2Cgeometry%7Btype%2Ccoordinates%7D%2Cproperties%7Bid%2CiconCategory%2CmagnitudeOfDelay%2Cevents%7Bdescription%2Ccode%7D%2CstartTime%2CendTime%2Cfrom%2Cto%2Clength%2Cdelay%2CroadNumbers%2CtimeValidity%2Caci%7BprobabilityOfOccurrence%2CnumberOfReports%2ClastReportTime%7D%2Ctmc%7BcountryCode%2CtableNumber%2CtableVersion%2Cdirection%2Cpoints%7Blocation%2Coffset%7D%7D%7D%7D%7D&language=en-GB&categoryFilter=0%2C1%2C2%2C3%2C4%2C5%2C6%2C7%2C8%2C9%2C10%2C11%2C14&timeValidityFilter=present%2Cfuture&key=hIQ7sERCrsAIdaBcD4I2inoY9sFjc7ms",
            type: "GET",
            dataType: "JSON",
            data:JSON.stringify({ }),
            success:function(data){
                $('.msg').append("<li>"+JSON.stringify(data.incidents)+"</li>")
            }
        });
    }
</script>